<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Madglove Sense</title>


    <!-- Bootstrap for styling -->
    <link 
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" 
        rel="stylesheet" 
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" 
        crossorigin="anonymous"
    />

    <!-- Tree.js -->
    <script type="importmap">
        {
          "imports": {
            "three": "https://cdn.jsdelivr.net/npm/three@0.174.0/build/three.module.js",
            "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.174.0/examples/jsm/"
          }
        }
    </script>

    <!-- mediapipe hand detection -->
    
        <!-- Copyright 2023 The MediaPipe Authors.

        Licensed under the Apache License, Version 2.0 (the "License");
        you may not use this file except in compliance with the License.
        You may obtain a copy of the License at

            http://www.apache.org/licenses/LICENSE-2.0

        Unless required by applicable law or agreed to in writing, software
        distributed under the License is distributed on an "AS IS" BASIS,
        WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
        See the License for the specific language governing permissions and
        limitations under the License. -->
    <link href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css" rel="stylesheet">
    <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js" crossorigin="anonymous"></script>

</head>

<body>

    <!-- Main App Container -->
    <div id="app-container" class="container-fluid">
        
        <!-- Header -->
        <header class="row">
            <div class="col-12 d-flex align-items-center my-3">
                <img src="app/images/logo.png" alt="Madglove Sense Logo" style="max-width: 150px;" class="mx-3">
                <h1 class="m-0">Madglove Sense <small class="text-muted">v0.21</small></h1>
            </div>
        </header>    

        <!-- Tabs Navigation -->
        <ul class="nav nav-tabs" id="appTabs">
            <li class="nav-item">
                <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#dashboardView">Dashboard</button>
            </li>
            <li class="nav-item">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#deviceView">Bluetooth</button>
            </li>
            <li class="nav-item">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#patientView">Patient</button>
            </li>
            <li class="nav-item">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#accountView">Account</button>
            </li>
        </ul>

        <!-- Tab Content -->
        <div class="tab-content mt-3">

            <!-- DASHBOARD -->
            <div class="tab-pane fade show active" id="dashboardView">
                <h2>Dashboard</h2>
                <section class="row mt-1 g-3">
                    <section class="col-12 col-md-6 border">
                        <div class="list-group list-group-flush">
                            <!-- Extrahorizon Authentication -->
                            <a class="list-group-item list-group-item-action d-flex align-items-center justify-content-between p-2">
                              <span>Extrahorizon Account: <strong id="auth-status">Logged Out</strong></span>
                              <span class="badge bg-primary" id="auth-action">Login</span>
                            </a>
                            <!-- Patient Data -->
                            <a class="list-group-item list-group-item-action d-flex align-items-center justify-content-between p-2">
                              <span>Patient: <strong id="patient-status">None</strong></span>
                              <span class="badge bg-info" id="patient-action">Select</span>
                            </a>
                          </div>
                    </section>
                    <section class="col-12 col-md-6 border">
                        <div id="bleStatusView" class="p-3"></div>
                        <div id="bleDataRecording" class="p-3" hidden></div>
                    </section>
        
                </section>
                
                <!-- Main Content -->
                <main class="row mt-1 g-3" id="videoAndCanvasRow">
                    <!-- Webcam -->
                    <section class="col-12 col-md-6 border">
                        <div id="cameraView" class="p-3"></div>
                    </section>
                    <!-- Hand Model -->
                    <section class="col-12 col-md-6 border">
                        <div id="handModelView" class="p-3"></div>
                    </section>
                </main>

                <!-- Charts & Data -->
                <section class="row mt-1 g-3">
                    <div class="col-12 border">
                        <div id="chartsAndDataRow" class="p-3"></div>
                    </div>
                </section>
            </div>

            <!-- BLUETOOTH -->
            <div class="tab-pane fade" id="deviceView">
                <h2>Bluetooth</h2>
            </div>

            <!-- PATIENT -->
            <div class="tab-pane fade" id="patientView">
                <h2>Patient Data</h2>
                <p>Select or manage patient data.</p>
            </div>

            <!-- ACCOUNT -->
            <div class="tab-pane fade" id="accountView">
                <h2>Account</h2>
                <p>Login/Logout & User Information</p>
            </div>

        </div> <!-- End tab-content -->

    </div> <!-- End app-container -->

    <!-- ðŸ”¥ Load JavaScript files -->
    <script src="app/js/ble.js"></script>
    <script src="app/js/charts.js"></script>
    <script src="app/js/webcam.js"></script>
    <script type="module" src="app/js/handModel.js"></script>
    <script type="module" src="app/js/handTracking.js"></script>
    <script src="app/js/bleStatus.js"></script>
    <script src="app/js/bleRecording.js"></script>


    <!-- Bootstrap JS -->
    <script 
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous">
    </script>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.7/dist/chart.umd.min.js"></script>

</body>
</html>
